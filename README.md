# air_language - собственный высокоуровневый язык и компилятор для него


## Самое важное

Самое важное, что будет в этом проекте:

- лексический анализатор
- синтаксический анализатор, работающий на рекурсивной спуске
- представление AST и таблицы переменных в файле
- простая оптимизация дерева
- ассемблирование AST в ASM
- транслятор в другой язык 

## О чём этот проект

В данном проекте мы напишем компилятор для своего языка. Он состоит из FRONT_END, MIDDLE_END, BACK_END, ASSEMBLER, SPU и REVERSE_FRONT_END. Далее описаны все эти части описаны ниже 

Проект написан на arch-Linux, процессор Intel N95.

## Синтаксис и возможности нашего языка

будет написан позже

## Ключевые моменты в коде

### Стандарт представления AST

будет написан позже

### FRONT_END

Данная часть состоит из лексического и синтаксического анализаторов.

#### Лексический анализатор

Лексический анализатор читает файл с программой на нашем языке и собирает из слов специальные токены. Таким образом, программа из слов превращается в последовательность токенов.

Благодаря лексическому анализатору можно сделать возможность специальные слова писать в несколько слов. В нашем языке пока нет такой возможности, но мы планируем это исправить.

#### Синтаксический анализатор

Синтаксический анализатор читает последовательность токенов с помощью рекурсивного спуска и далее строит дерево AST и таблицу имён.

#### Представление в файлы 

Полученные AST и таблица имён далее сохраняются в специальном формате в файлы. На этом работа FRONT_END заканчивается

### MIDDLE_END

Прочитав AST и таблицу имён из файлов, MIDDLE_END производит оптимизации: арифметические и нейтральные элементы. После записывает новые AST и таблицу имён в новые файлы.

### BACK_END

Прочитав AST и таблицу имён из файлов, BACK_END строит файл с ASM.

### ASM и SPU

Информацию о ASM и SPU можно прочитать [здесь](https://github.com/Alexandr26Starostin/SPU)

### REVERSE_FRONT_END 

Мы можем транслировать программу на другом языке в наш. Для этого у этих языков должен быть один и тот же стандарт представления AST и таблицы имён. Прочитав AST и таблицу имён из файлов, мы можем составить программу на нашем языке.

## Использование данной программы

Для использования данной программы необходимо:
1. Установить g++.
2. Скопировать себе ветку *master* нашего репозитория. 
3. В консоль ввести *make*
4. В консоль ввести *./launch_language.bash*

Возможные коды ошибок и сообщений о них (в сообщениях об ошибках выходит информация о том, в каком месте кода произошла ошибка):
- 0 - нет ошибок.

Ипользование каждой части:

- FRONT_END: ./front_end -read_program ../program.air -write_tree ../ast.txt -write_table ../table.txt
- MIDDLE_END: ./middle_end -read_tree ../ast.txt -read_table ../table.txt -write_tree ../ast.txt
- BACK_END: ./back_end -read_tree ../ast.txt -read_table ../table.txt -write_asm ../program_in_asm.asm
- ASM: ./assembler "../program_in_asm.asm" "../cmd.txt"
- SPU: ./spu "../cmd.txt"
- REVERSE_FRONT_END: ../program.air == ../reverse_program.air

## Вывод

Мы изучили работу компилятора и смогли написать свой для нашего высокоуровневого языка. 

## Доработки

Список того, что нужно доработать в данном проекте:

- дописать синтаксис и возможности нашего языка
- дописать стандарт представления AST 
- добавить возможность писать специальные слова в несколько слов
- добавить ещё конструкции языка: массивы, switch и тд
- дописать коды ошибок